/* CSS Cascade Layers - 우선순위 정의 */
@layer reset, base, components, utilities;

/* Modern Normalize */
@import "modern-normalize/modern-normalize.css" layer(reset);

/* Design Tokens */
@import "@lyra/design-tokens/css" layer(base);

/* Custom Media Queries - Breakpoints */
@custom-media --sm (max-width: 640px);
@custom-media --md (max-width: 768px);
@custom-media --lg (max-width: 1024px);
@custom-media --xl (max-width: 1280px);
@custom-media --2xl (max-width: 1536px);

/* Base Layer - CSS Variables & Reset */
@layer base {
  /*
   * Semantic Color Tokens - 계층적 참조 구조
   *
   * 구조:
   * 1. Primary/Secondary/Status Colors (주요 색상) - 테마의 핵심 색상 정의
   * 2. Text/BG/Border/Icon Colors (세부 색상) - 주요 색상을 참조
   *
   * 장점:
   * - 테마 변경 시 주요 색상만 수정하면 전체 UI 자동 업데이트
   * - 일관된 색상 사용 보장
   * - 명확한 의미 전달
   *
   * 사용 예시:
   *
   * 컴포넌트 CSS:
   *   color: var(--color-text-primary);
   *   background: var(--color-bg-primary-default);
   *   border-color: var(--color-border-focus);
   *
   * 테마 커스터마이징:
   *   :root {
   *     --color-primary: var(--color-purple-600);  // 주요 색상만 변경
   *   }
   *   // --color-text-link, --color-bg-primary-default 등이 자동으로 업데이트됨
   *
   * 주의:
   * - spacing, typography 등은 primitive 토큰 직접 사용 (var(--spacing-4), var(--font-size-base))
   * - color만 시멘틱 토큰 사용
   */
  :root {
    /* Primary Colors - 테마의 주요 색상 */
    --color-primary: var(--color-blue-600);
    --color-primary-hover: var(--color-blue-700);
    --color-primary-active: var(--color-blue-800);
    --color-primary-disabled: var(--color-blue-300);

    /* Secondary Colors */
    --color-secondary: var(--color-gray-200);
    --color-secondary-hover: var(--color-gray-300);
    --color-secondary-active: var(--color-gray-400);

    /* Status Colors */
    --color-success: var(--color-green-500);
    --color-success-hover: var(--color-green-600);
    --color-warning: var(--color-yellow-500);
    --color-warning-hover: var(--color-yellow-600);
    --color-error: var(--color-red-500);
    --color-error-hover: var(--color-red-600);
    --color-info: var(--color-blue-500);
    --color-info-hover: var(--color-blue-600);

    /* Text Colors - 주요 색상 참조 */
    --color-text-primary: var(--color-gray-900);
    --color-text-secondary: var(--color-gray-600);
    --color-text-tertiary: var(--color-gray-500);
    --color-text-disabled: var(--color-gray-400);
    --color-text-inverse: var(--color-gray-50);
    --color-text-link: var(--color-primary);
    --color-text-link-hover: var(--color-primary-hover);
    --color-text-success: var(--color-green-600);
    --color-text-warning: var(--color-yellow-600);
    --color-text-error: var(--color-red-600);

    /* Background Colors - 주요 색상 참조 */
    --color-bg-primary-default: var(--color-primary);
    --color-bg-primary-hover: var(--color-primary-hover);
    --color-bg-primary-active: var(--color-primary-active);
    --color-bg-primary-disabled: var(--color-primary-disabled);

    --color-bg-secondary-default: var(--color-secondary);
    --color-bg-secondary-hover: var(--color-secondary-hover);
    --color-bg-secondary-active: var(--color-secondary-active);

    --color-bg-surface-default: oklch(1 0 0);
    --color-bg-surface-elevated: var(--color-gray-50);

    --color-bg-input-default: oklch(1 0 0);
    --color-bg-input-hover: var(--color-gray-50);
    --color-bg-input-disabled: var(--color-gray-50);

    --color-bg-success-default: var(--color-success);
    --color-bg-success-hover: var(--color-success-hover);
    --color-bg-success-subtle: var(--color-green-50);

    --color-bg-warning-default: var(--color-warning);
    --color-bg-warning-hover: var(--color-warning-hover);
    --color-bg-warning-subtle: var(--color-yellow-50);

    --color-bg-error-default: var(--color-error);
    --color-bg-error-hover: var(--color-error-hover);
    --color-bg-error-subtle: var(--color-red-50);

    --color-bg-info-default: var(--color-info);
    --color-bg-info-hover: var(--color-info-hover);
    --color-bg-info-subtle: var(--color-blue-50);

    /* Border Colors - 주요 색상 참조 */
    --color-border-default: var(--color-gray-300);
    --color-border-subtle: var(--color-gray-200);
    --color-border-strong: var(--color-gray-400);
    --color-border-hover: var(--color-gray-400);
    --color-border-focus: var(--color-primary);
    --color-border-disabled: var(--color-gray-300);
    --color-border-error: var(--color-error);
    --color-border-success: var(--color-success);
    --color-border-warning: var(--color-warning);

    /* Icon Colors - 주요 색상 참조 */
    --color-icon-default: var(--color-gray-700);
    --color-icon-subtle: var(--color-gray-500);
    --color-icon-inverse: var(--color-gray-50);
    --color-icon-primary: var(--color-primary);
    --color-icon-success: var(--color-green-600);
    --color-icon-warning: var(--color-yellow-600);
    --color-icon-error: var(--color-red-600);

    /* Interactive Colors - 주요 색상 참조 */
    --color-interactive-default: var(--color-primary);
    --color-interactive-hover: var(--color-primary-hover);
    --color-interactive-active: var(--color-primary-active);
    --color-interactive-focus: var(--color-primary);
    --color-interactive-disabled: var(--color-primary-disabled);

    /* Focus Ring - PostCSS mixin에서 사용 */
    --focus-color: var(--color-primary);
  }

  /* Typography */
  body {
    font-family: var(--font-family-sans);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}
