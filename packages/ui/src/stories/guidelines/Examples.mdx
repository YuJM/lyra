import { Meta } from '@storybook/blocks';

<Meta title="Guidelines/Examples" />

# Do & Don't 예제

실제 코드 예제로 올바른 사용법과 잘못된 사용법을 비교합니다.

---

## 🎯 Button 컴포넌트

### 접근 가능한 이름 제공

#### ✅ Do: 텍스트 레이블 포함

```tsx
<Button>메뉴 열기</Button>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <button style={{ padding: '8px 16px', border: 'none', borderRadius: '4px', background: '#333', color: '#fff', cursor: 'pointer' }}>
    메뉴 열기
  </button>
</div>

**이유**: 버튼에 명확한 텍스트가 있어 모든 사용자가 용도를 이해할 수 있습니다.

---

#### ✅ Do: 아이콘 + aria-label

```tsx
<Button aria-label="메뉴 열기">
  <MenuIcon />
</Button>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <button aria-label="메뉴 열기" style={{ padding: '8px 16px', border: 'none', borderRadius: '4px', background: '#333', color: '#fff', cursor: 'pointer', fontSize: '20px' }}>
    ☰
  </button>
</div>

**이유**: `aria-label`이 스크린 리더에게 버튼의 용도를 전달합니다.

---

#### ❌ Don't: 아이콘만 있고 레이블 없음

```tsx
<Button>
  <MenuIcon />
</Button>
```

<div style={{ padding: '20px', background: '#ffebee', borderRadius: '8px', marginBottom: '20px' }}>
  <button style={{ padding: '8px 16px', border: 'none', borderRadius: '4px', background: '#333', color: '#fff', cursor: 'pointer', fontSize: '20px' }}>
    ☰
  </button>
  <p style={{ color: '#c62828', marginTop: '10px' }}>
    ⚠️ 접근성 위반: 스크린 리더가 버튼의 용도를 알 수 없습니다
  </p>
</div>

**문제**: 시각 장애인 사용자는 이 버튼이 무엇을 하는지 알 수 없습니다.

---

### 색상 대비율

#### ✅ Do: 충분한 대비 (7.0:1)

```tsx
<Button style={{ background: '#333', color: '#fff' }}>
  클릭
</Button>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <button style={{ padding: '8px 16px', border: 'none', borderRadius: '4px', background: '#333', color: '#fff', cursor: 'pointer' }}>
    클릭
  </button>
  <p style={{ marginTop: '10px' }}>
    ✅ 대비율: 7.0:1 (WCAG AAA)
  </p>
</div>

---

#### ❌ Don't: 낮은 대비 (2.3:1)

```tsx
<Button style={{ background: '#e0e0e0', color: '#999' }}>
  클릭
</Button>
```

<div style={{ padding: '20px', background: '#ffebee', borderRadius: '8px', marginBottom: '20px' }}>
  <button style={{ padding: '8px 16px', border: 'none', borderRadius: '4px', background: '#e0e0e0', color: '#999', cursor: 'pointer' }}>
    클릭
  </button>
  <p style={{ color: '#c62828', marginTop: '10px' }}>
    ⚠️ 접근성 위반: 대비율 2.3:1 (WCAG AA 미달, 최소 4.5:1 필요)
  </p>
</div>

---

## 🗨️ Dialog 컴포넌트

### 올바른 Dialog 구조

#### ✅ Do: 제목, 설명, 닫기 버튼 포함

```tsx
<Dialog.Root>
  <Dialog.Trigger asChild>
    <Button>대화 상자 열기</Button>
  </Dialog.Trigger>
  <Dialog.Portal>
    <Dialog.Backdrop />
    <Dialog.Popup>
      <Dialog.Title>확인</Dialog.Title>
      <Dialog.Description>
        정말 삭제하시겠습니까?
      </Dialog.Description>
      <Dialog.Close asChild>
        <Button>닫기</Button>
      </Dialog.Close>
    </Dialog.Popup>
  </Dialog.Portal>
</Dialog.Root>
```

**이유**:
- `Dialog.Title`: 스크린 리더가 대화 상자의 제목을 읽음
- `Dialog.Description`: 대화 상자의 목적을 설명
- `Dialog.Close`: 키보드(ESC) 또는 버튼으로 닫기 가능

---

#### ❌ Don't: 제목 없고 닫기 불가

```tsx
<Dialog.Root>
  <Dialog.Popup>
    <p>내용만 있음</p>
    {/* 제목 없음, 닫기 버튼 없음 */}
  </Dialog.Popup>
</Dialog.Root>
```

**문제**:
- 제목 없음 → 스크린 리더가 대화 상자의 용도를 알 수 없음
- 닫기 버튼 없음 → 키보드 트랩 (사용자가 빠져나올 수 없음)

---

## ✅ Checkbox 컴포넌트

### 레이블 연결

#### ✅ Do: label과 연결

```tsx
<div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
  <Checkbox id="terms" />
  <label htmlFor="terms">약관에 동의합니다</label>
</div>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
    <input type="checkbox" id="terms" style={{ width: '16px', height: '16px', cursor: 'pointer' }} />
    <label htmlFor="terms" style={{ cursor: 'pointer' }}>약관에 동의합니다</label>
  </div>
  <p style={{ marginTop: '10px' }}>
    ✅ 레이블 클릭 시 체크박스도 토글됨
  </p>
</div>

**이유**:
- `htmlFor`와 `id` 연결 → 레이블 클릭 시 체크박스 토글
- 스크린 리더가 레이블과 체크박스를 연관지어 읽음

---

#### ❌ Don't: 레이블 없음

```tsx
<Checkbox />
```

<div style={{ padding: '20px', background: '#ffebee', borderRadius: '8px', marginBottom: '20px' }}>
  <input type="checkbox" style={{ width: '16px', height: '16px' }} />
  <p style={{ color: '#c62828', marginTop: '10px' }}>
    ⚠️ 접근성 위반: 체크박스가 무엇을 의미하는지 알 수 없음
  </p>
</div>

---

## 🎨 색상으로 정보 전달

### 오류 표시

#### ✅ Do: 색상 + 아이콘 + 텍스트

```tsx
<div style={{ display: 'flex', alignItems: 'center', gap: '8px', color: '#c62828' }}>
  <span>⚠️</span>
  <span>오류: 이메일 형식이 올바르지 않습니다</span>
</div>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <div style={{ display: 'flex', alignItems: 'center', gap: '8px', color: '#c62828' }}>
    <span>⚠️</span>
    <span>오류: 이메일 형식이 올바르지 않습니다</span>
  </div>
  <p style={{ marginTop: '10px' }}>
    ✅ 색맹 사용자도 아이콘과 텍스트로 오류 인지 가능
  </p>
</div>

---

#### ❌ Don't: 색상만 사용

```tsx
<div style={{ color: 'red' }}>
  이메일 형식이 올바르지 않습니다
</div>
```

<div style={{ padding: '20px', background: '#ffebee', borderRadius: '8px', marginBottom: '20px' }}>
  <div style={{ color: 'red' }}>
    이메일 형식이 올바르지 않습니다
  </div>
  <p style={{ color: '#c62828', marginTop: '10px' }}>
    ⚠️ 접근성 위반: 색맹 사용자는 오류를 인지하기 어려움
  </p>
</div>

---

## ⌨️ 키보드 네비게이션

### 인터랙티브 요소

#### ✅ Do: 시맨틱 HTML 사용

```tsx
<button onClick={handleClick}>클릭</button>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <button onClick={() => alert('클릭!')}>클릭</button>
  <p style={{ marginTop: '10px' }}>
    ✅ Tab으로 포커스, Enter/Space로 활성화 가능
  </p>
</div>

---

#### ❌ Don't: div로 버튼 구현

```tsx
<div onClick={handleClick}>클릭</div>
```

<div style={{ padding: '20px', background: '#ffebee', borderRadius: '8px', marginBottom: '20px' }}>
  <div onClick={() => alert('클릭!')} style={{ cursor: 'pointer', padding: '8px 16px', background: '#e0e0e0', borderRadius: '4px', display: 'inline-block' }}>
    클릭
  </div>
  <p style={{ color: '#c62828', marginTop: '10px' }}>
    ⚠️ 접근성 위반: 키보드로 포커스 불가, Enter/Space로 활성화 불가
  </p>
</div>

---

## 🔍 포커스 인디케이터

### 명확한 포커스 표시

#### ✅ Do: 명확한 아웃라인

```tsx
<button
  style={{
    outline: '2px solid #0066cc',
    outlineOffset: '2px'
  }}
>
  포커스 상태
</button>
```

<div style={{ padding: '20px', background: '#f5f5f5', borderRadius: '8px', marginBottom: '20px' }}>
  <button
    style={{
      padding: '8px 16px',
      outline: '2px solid #0066cc',
      outlineOffset: '2px'
    }}
  >
    포커스 상태
  </button>
  <p style={{ marginTop: '10px' }}>
    ✅ 포커스가 명확히 보임 (대비율 3:1 이상)
  </p>
</div>

---

#### ❌ Don't: 포커스 인디케이터 제거

```tsx
<button style={{ outline: 'none' }}>
  포커스 없음
</button>
```

<div style={{ padding: '20px', background: '#ffebee', borderRadius: '8px', marginBottom: '20px' }}>
  <button
    style={{
      padding: '8px 16px',
      outline: 'none'
    }}
  >
    포커스 없음
  </button>
  <p style={{ color: '#c62828', marginTop: '10px' }}>
    ⚠️ 접근성 위반: 키보드 사용자가 현재 포커스 위치를 알 수 없음
  </p>
</div>

---

## 📊 요약

### Do (올바른 예)
- ✅ 시맨틱 HTML 사용 (`<button>`, `<label>` 등)
- ✅ 접근 가능한 이름 제공 (`aria-label`, 텍스트)
- ✅ 충분한 색상 대비 (4.5:1 이상)
- ✅ 키보드 네비게이션 지원
- ✅ 명확한 포커스 인디케이터 (3:1 대비율)
- ✅ 색상 + 아이콘 + 텍스트 조합

### Don't (잘못된 예)
- ❌ div로 버튼 구현
- ❌ 아이콘만 있고 레이블 없음
- ❌ 낮은 색상 대비 (4.5:1 미만)
- ❌ 키보드 조작 불가
- ❌ 포커스 인디케이터 제거 (`outline: none`)
- ❌ 색상만으로 정보 전달

---

## 🧪 직접 테스트해보기

### 키보드 네비게이션 연습

1. **Tab 키**를 눌러 위 예제들을 순회해보세요
2. **Enter 또는 Space**로 버튼을 활성화해보세요
3. 포커스 인디케이터가 명확히 보이는지 확인하세요

### Storybook A11y 탭 확인

1. Storybook을 실행하세요: `pnpm storybook`
2. 각 컴포넌트 스토리를 선택하세요
3. 하단의 **A11y 탭**을 클릭하세요
4. 위반 사항이 **0개**인지 확인하세요

---

## 📚 더 알아보기

- [접근성 가이드](/story/guidelines-accessibility--docs)
- [OpenAI 가이드라인](/story/guidelines-openai--docs)
- [WCAG 2.1 체크리스트](https://github.com/lyra/lyra/blob/main/claudedocs/wcag-2.1-aa-checklist.md)

---

**최종 업데이트**: 2025-10-23
**접근성 준수**: WCAG 2.1 Level AA 100%
